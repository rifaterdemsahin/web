<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI-Powered DevOps Maturity Assessment</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>

<body>
  <div id="root"></div>

  <!-- GitHub Assessment Form Section -->
  <div id="github-assessment-section" style="display: none;">
    <style>
      :root {
        --primary-color: #2563eb;
        --secondary-color: #1e40af;
        --accent-color: #3b82f6;
        --text-primary: #1f2937;
        --text-secondary: #6b7280;
        --bg-primary: #ffffff;
        --bg-secondary: #f8fafc;
        --border-color: #e5e7eb;
        --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
      }

      .github-assessment-wrapper {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: var(--bg-secondary);
        padding: 4rem 0;
        margin-top: 2rem;
      }

      .github-assessment-wrapper .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 0 2rem;
      }

      .github-assessment-wrapper .section-header {
        text-align: center;
        margin-bottom: 2rem;
      }

      .github-assessment-wrapper .section-title {
        font-size: 2rem;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
      }

      .github-assessment-wrapper .section-subtitle {
        font-size: 1.1rem;
        color: var(--text-secondary);
        max-width: 600px;
        margin: 0 auto;
      }

      .github-assessment-wrapper .assessment-card {
        background: white;
        border-radius: 20px;
        box-shadow: var(--shadow-xl);
        border: 1px solid var(--border-color);
        overflow: hidden;
      }

      .github-assessment-wrapper .assessment-header {
        background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        color: white;
        padding: 2rem;
        text-align: center;
      }

      .github-assessment-wrapper .assessment-header h3 {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }

      .github-assessment-wrapper .assessment-header p {
        font-size: 1rem;
        opacity: 0.9;
      }

      .github-assessment-wrapper .assessment-form {
        padding: 2rem;
      }

      .github-assessment-wrapper .form-group {
        margin-bottom: 1.5rem;
      }

      .github-assessment-wrapper .form-group label {
        display: block;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
        font-size: 1rem;
      }

      .github-assessment-wrapper .form-group input[type="email"],
      .github-assessment-wrapper .form-group input[type="url"] {
        width: 100%;
        padding: 1rem;
        border: 2px solid var(--border-color);
        border-radius: 10px;
        font-size: 1rem;
        transition: all 0.3s ease;
        background: var(--bg-primary);
        box-sizing: border-box;
      }

      .github-assessment-wrapper .form-group input[type="email"]:focus,
      .github-assessment-wrapper .form-group input[type="url"]:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
      }

      .github-assessment-wrapper .checkbox-group {
        margin: 2rem 0;
      }

      .github-assessment-wrapper .checkbox-label {
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
        cursor: pointer;
        font-size: 0.95rem;
        line-height: 1.5;
        color: var(--text-secondary);
      }

      .github-assessment-wrapper .checkbox-label input[type="checkbox"] {
        width: 20px;
        height: 20px;
        margin-top: 2px;
        cursor: pointer;
      }

      .github-assessment-wrapper .btn {
        padding: 1rem 2rem;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        border: none;
        cursor: pointer;
      }

      .github-assessment-wrapper .btn-primary {
        background: var(--primary-color);
        color: white;
      }

      .github-assessment-wrapper .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
        background: var(--secondary-color);
      }

      .github-assessment-wrapper .assessment-btn {
        width: 100%;
        justify-content: center;
        font-size: 1.1rem;
        padding: 1.2rem 2rem;
        margin-top: 1rem;
      }

      .github-assessment-wrapper .assessment-result {
        margin-top: 2rem;
        padding: 2rem;
        background: #f0f9ff;
        border-radius: 15px;
        border: 1px solid var(--border-color);
        text-align: center;
      }

      .github-assessment-wrapper .result-header h3 {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
      }

      .github-assessment-wrapper .result-header p {
        color: var(--text-secondary);
      }
    </style>

    <div class="github-assessment-wrapper">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">üìä Delivery Pilot - Schedule a Free Assessment Call</h2>
          <p class="section-subtitle">
            Submit your GitHub repository to identify specific skills gaps and get a personalized learning roadmap
          </p>
        </div>

        <div class="assessment-card">
          <div class="assessment-header">
            <h3>üìÖ Schedule Free Call</h3>
            <p>Get your code assessed by AI to identify specific skills gaps</p>
          </div>

          <div class="assessment-form">
            <p style="color: var(--text-secondary); font-size: 0.95rem; margin-bottom: 1.5rem;">
              During your call, we can analyze your repository to identify skills gaps and create a learning roadmap.
            </p>

            <a href="https://calendly.com/rifaterdem/schedule"
               class="btn btn-primary assessment-btn"
               target="_blank"
               rel="noopener noreferrer"
               aria-label="Schedule a free call on Calendly (opens in new tab)">
              üìÖ Schedule Free Call
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Show the GitHub assessment section after React mounts
    document.addEventListener('DOMContentLoaded', function() {
      // Wait for React to render, then show the section
      setTimeout(function() {
        const section = document.getElementById('github-assessment-section');
        if (section) {
          section.style.display = 'block';
        }
      }, 100);
    });

    // GitHub Assessment Form functionality has been replaced with Calendly link
  </script>

  <script type="text/babel">
    const { useState } = React;

    const categories = [
      { id: 'ci', name: 'CI/CD & AI-Powered Delivery', emoji: 'üîÑ', color: 'from-blue-500 to-blue-600' },
      { id: 'infra', name: 'Intelligent Infrastructure', emoji: 'üèóÔ∏è', color: 'from-purple-500 to-purple-600' },
      { id: 'monitor', name: 'AIOps & Observability', emoji: 'üìä', color: 'from-green-500 to-green-600' },
      { id: 'security', name: 'AI-Enhanced Security', emoji: 'üîí', color: 'from-red-500 to-red-600' },
      { id: 'culture', name: 'AI-First Culture', emoji: 'ü§ù', color: 'from-orange-500 to-orange-600' },
      { id: 'automation', name: 'Intelligent Automation', emoji: 'ü§ñ', color: 'from-teal-500 to-teal-600' }
    ];

    const questions = [
      // CI/CD & AI-Powered Delivery (4 questions)
      { id: 1, cat: 'ci', q: 'üöÄ How does AI assist your deployment decisions?', opts: ['No AI involvement', 'Basic deployment scheduling', 'AI suggests optimal deploy windows', 'AI autonomously manages deployments with risk scoring'] },
      { id: 2, cat: 'ci', q: 'üîç How do you use AI for code review and quality?', opts: ['Manual code reviews only', 'Basic linting tools', 'AI-powered code review (Copilot, CodeRabbit)', 'Full AI code analysis with auto-fixes and learning'] },
      { id: 3, cat: 'ci', q: 'üìà How does AI optimize your CI/CD pipeline performance?', opts: ['No optimization', 'Manual pipeline tuning', 'AI identifies bottlenecks', 'Self-optimizing pipelines with ML-driven caching'] },
      { id: 4, cat: 'ci', q: 'üéØ How do you use AI for release risk prediction?', opts: ['No risk assessment', 'Manual checklists', 'AI analyzes change risk scores', 'Predictive models block high-risk releases automatically'] },

      // Intelligent Infrastructure (4 questions)
      { id: 5, cat: 'infra', q: '‚òÅÔ∏è How does AI manage your infrastructure scaling?', opts: ['Manual scaling', 'Threshold-based autoscaling', 'Predictive autoscaling with ML', 'AI-driven autonomous infrastructure optimization'] },
      { id: 6, cat: 'infra', q: 'üí∞ How do you use AI for cloud cost optimization?', opts: ['No cost analysis', 'Manual cost reviews', 'AI cost anomaly detection', 'Autonomous AI cost optimization with FinOps integration'] },
      { id: 7, cat: 'infra', q: 'üîß How does AI assist in infrastructure troubleshooting?', opts: ['Manual debugging', 'Log search tools', 'AI-powered root cause suggestions', 'Autonomous AI remediation with self-healing infrastructure'] },
      { id: 8, cat: 'infra', q: 'üìã How do you use AI for IaC generation and review?', opts: ['Manual IaC writing', 'Templates and modules', 'AI generates IaC from requirements', 'AI creates, reviews, and optimizes IaC with drift prediction'] },

      // AIOps & Observability (4 questions)
      { id: 9, cat: 'monitor', q: 'üîî How does AI power your alerting system?', opts: ['Static threshold alerts', 'Dynamic thresholds', 'AI anomaly detection with correlation', 'Predictive alerting preventing incidents before they occur'] },
      { id: 10, cat: 'monitor', q: 'üß† How mature is your AIOps implementation?', opts: ['No AIOps', 'Basic ML for metrics', 'AIOps platform with event correlation', 'Full AIOps with autonomous incident response'] },
      { id: 11, cat: 'monitor', q: 'üìä How does AI assist in log analysis?', opts: ['Manual log searching', 'Pattern matching rules', 'ML-powered log clustering and anomaly detection', 'AI understands context and predicts issues from logs'] },
      { id: 12, cat: 'monitor', q: 'üéØ How do you use AI for performance optimization?', opts: ['Reactive performance fixes', 'Basic APM tools', 'AI identifies performance patterns', 'AI autonomously optimizes application performance'] },

      // AI-Enhanced Security (4 questions)
      { id: 13, cat: 'security', q: 'üõ°Ô∏è How does AI enhance your threat detection?', opts: ['Signature-based detection only', 'SIEM with basic rules', 'AI-powered threat hunting', 'Autonomous AI security with behavioral analysis'] },
      { id: 14, cat: 'security', q: 'üîê How do you use AI for vulnerability management?', opts: ['Manual vulnerability scanning', 'Scheduled automated scans', 'AI prioritizes vulnerabilities by risk', 'AI predicts vulnerabilities and auto-patches'] },
      { id: 15, cat: 'security', q: 'ü§ñ How do you secure your AI/ML pipelines?', opts: ['No AI security considerations', 'Basic model access controls', 'ML model scanning and validation', 'Full MLSecOps with model monitoring and adversarial testing'] },
      { id: 16, cat: 'security', q: 'üìù How does AI assist in compliance management?', opts: ['Manual compliance audits', 'Automated compliance checks', 'AI monitors compliance continuously', 'AI predicts compliance risks and auto-remediates'] },

      // AI-First Culture (4 questions)
      { id: 17, cat: 'culture', q: 'üéì How is your team trained on AI/ML for DevOps?', opts: ['No AI training', 'Basic awareness sessions', 'Structured AI/ML learning paths', 'Continuous AI upskilling with hands-on projects'] },
      { id: 18, cat: 'culture', q: 'üí¨ How do teams use AI assistants (ChatGPT, Claude, Copilot)?', opts: ['Not allowed or adopted', 'Individual experimentation', 'Team-approved AI tools with guidelines', 'AI assistants integrated into all workflows with governance'] },
      { id: 19, cat: 'culture', q: 'üìö How does AI help with knowledge management?', opts: ['Static documentation', 'Searchable wikis', 'AI-powered search and Q&A bots', 'AI generates and updates documentation automatically'] },
      { id: 20, cat: 'culture', q: 'üîÑ How do you measure and improve AI adoption?', opts: ['No measurement', 'Ad-hoc feedback', 'AI usage metrics tracked', 'AI ROI measured with continuous improvement programs'] },

      // Intelligent Automation (4 questions)
      { id: 21, cat: 'automation', q: 'üß™ How does AI enhance your testing strategy?', opts: ['Manual test writing', 'Record and playback', 'AI generates test cases', 'AI creates, maintains, and self-heals tests autonomously'] },
      { id: 22, cat: 'automation', q: 'üîÅ How do you use AI for incident auto-remediation?', opts: ['Manual incident response', 'Runbook automation', 'AI suggests remediation steps', 'AI autonomously resolves common incidents'] },
      { id: 23, cat: 'automation', q: 'üìà How does AI optimize your test execution?', opts: ['Run all tests every time', 'Basic test parallelization', 'AI selects relevant tests based on changes', 'Predictive test selection with ML-optimized execution'] },
      { id: 24, cat: 'automation', q: 'üåê How do you use AI for synthetic monitoring and chaos engineering?', opts: ['Basic uptime checks', 'Scripted synthetic tests', 'AI-generated user journey tests', 'AI-driven chaos engineering with intelligent failure injection'] }
    ];

    const levelColors = {
      1: { bg: 'bg-red-100', border: 'border-red-400', text: 'text-red-700', name: 'AI Aware', emoji: 'üî¥' },
      2: { bg: 'bg-orange-100', border: 'border-orange-400', text: 'text-orange-700', name: 'AI Experimenting', emoji: 'üü†' },
      3: { bg: 'bg-yellow-100', border: 'border-yellow-400', text: 'text-yellow-700', name: 'AI Integrated', emoji: 'üü°' },
      4: { bg: 'bg-green-100', border: 'border-green-400', text: 'text-green-700', name: 'AI Native', emoji: 'üü¢' }
    };

    const reportMapping = {
      ci: { low: 'AI-Powered CI/CD Transformation Guide', high: 'Advanced MLOps Pipeline Optimization' },
      infra: { low: 'Intelligent Infrastructure Automation Playbook', high: 'Autonomous Cloud Operations Framework' },
      monitor: { low: 'AIOps Implementation Roadmap', high: 'Predictive Operations Excellence Guide' },
      security: { low: 'AI Security & MLSecOps Adoption Plan', high: 'Zero-Trust AI Security Architecture' },
      culture: { low: 'AI-First Culture Transformation Guide', high: 'Enterprise AI Center of Excellence Blueprint' },
      automation: { low: 'Intelligent Test Automation Strategy', high: 'Autonomous DevOps Maturity Framework' }
    };

    function DevOpsAssessment() {
      const [step, setStep] = useState('intro');
      const [userInfo, setUserInfo] = useState({ name: '', org: '', role: '', email: '' });
      const [answers, setAnswers] = useState({});
      const [currentQ, setCurrentQ] = useState(0);

      const handleAnswer = (qId, value) => {
        setAnswers({ ...answers, [qId]: value });
        if (currentQ < questions.length - 1) {
          setTimeout(() => setCurrentQ(currentQ + 1), 300);
        }
      };

      const calcScores = () => {
        const scores = {};
        categories.forEach(cat => {
          const catQs = questions.filter(q => q.cat === cat.id);
          const total = catQs.reduce((sum, q) => sum + (answers[q.id] || 0), 0);
          scores[cat.id] = Math.round((total / (catQs.length * 3)) * 100);
        });
        scores.overall = Math.round(Object.values(scores).reduce((a, b) => a + b, 0) / 6);
        return scores;
      };

      const getLevel = (score) => score < 25 ? 1 : score < 50 ? 2 : score < 75 ? 3 : 4;

      const getDeliveryCapability = (scores) => {
        const avg = scores.overall;
        if (avg < 25) return { level: 'Foundation', desc: 'Focus on establishing AI-aware practices before scaling', icon: 'üèóÔ∏è' };
        if (avg < 50) return { level: 'Developing', desc: 'Ready for pilot AI initiatives with guided implementation', icon: 'üå±' };
        if (avg < 75) return { level: 'Capable', desc: 'Can deliver AI-integrated DevOps transformations', icon: '‚ö°' };
        return { level: 'Advanced', desc: 'Ready for autonomous operations and AI innovation leadership', icon: 'üöÄ' };
      };

      const getRecommendations = (scores) => {
        const recs = [];
        categories.forEach(cat => {
          const score = scores[cat.id];
          const catInfo = categories.find(c => c.id === cat.id);
          if (score < 50) {
            recs.push({
              priority: score < 25 ? 'Critical' : 'High',
              area: catInfo.name,
              emoji: catInfo.emoji,
              score,
              report: reportMapping[cat.id].low,
              actions: getActions(cat.id, score)
            });
          } else if (score < 75) {
            recs.push({
              priority: 'Medium',
              area: catInfo.name,
              emoji: catInfo.emoji,
              score,
              report: reportMapping[cat.id].high,
              actions: getActions(cat.id, score)
            });
          }
        });
        if (scores.overall >= 75) {
          recs.push({
            priority: 'Enhancement',
            area: 'AI Innovation',
            emoji: '‚ú®',
            score: scores.overall,
            report: 'AI Innovation & Autonomous Operations Playbook',
            actions: ['Implement self-healing systems', 'Build AI Center of Excellence', 'Lead industry AI adoption']
          });
        }
        return recs.sort((a, b) => {
          const order = { Critical: 0, High: 1, Medium: 2, Enhancement: 3 };
          return order[a.priority] - order[b.priority];
        });
      };

      const getActions = (catId, score) => {
        const actionMap = {
          ci: score < 25 ? ['Implement AI code review tools', 'Set up basic ML-assisted deployments'] : ['Enable predictive release risk', 'Implement self-optimizing pipelines'],
          infra: score < 25 ? ['Adopt AI-powered IaC generation', 'Implement predictive autoscaling'] : ['Enable autonomous cost optimization', 'Deploy self-healing infrastructure'],
          monitor: score < 25 ? ['Deploy AIOps platform', 'Implement AI anomaly detection'] : ['Enable predictive alerting', 'Implement autonomous incident response'],
          security: score < 25 ? ['Implement AI threat detection', 'Enable ML vulnerability prioritization'] : ['Deploy MLSecOps pipeline', 'Enable autonomous security response'],
          culture: score < 25 ? ['Launch AI training program', 'Establish AI tool governance'] : ['Build AI Center of Excellence', 'Implement AI ROI measurement'],
          automation: score < 25 ? ['Adopt AI test generation', 'Implement intelligent test selection'] : ['Enable autonomous testing', 'Deploy AI chaos engineering']
        };
        return actionMap[catId] || [];
      };

      const generatePDFData = () => {
        const scores = calcScores();
        const delivery = getDeliveryCapability(scores);
        return {
          metadata: { generatedAt: new Date().toISOString(), version: '2.0-AI' },
          userInfo,
          scores,
          overallLevel: getLevel(scores.overall),
          levelName: levelColors[getLevel(scores.overall)].name,
          deliveryCapability: delivery,
          answers: Object.entries(answers).map(([qId, ans]) => {
            const q = questions.find(qu => qu.id === parseInt(qId));
            return { question: q.q, category: q.cat, answer: q.opts[ans], score: ans };
          }),
          recommendations: getRecommendations(scores),
          roadmap: generateRoadmap(scores)
        };
      };

      const generateRoadmap = (scores) => {
        const phases = [];
        const weakest = Object.entries(scores).filter(([k]) => k !== 'overall').sort((a, b) => a[1] - b[1]);

        phases.push({ phase: 'Phase 1: Foundation (0-3 months)', focus: weakest.slice(0, 2).map(([k]) => categories.find(c => c.id === k)?.name), goals: ['Establish AI tooling baseline', 'Quick wins in lowest scoring areas'] });
        phases.push({ phase: 'Phase 2: Integration (3-6 months)', focus: weakest.slice(2, 4).map(([k]) => categories.find(c => c.id === k)?.name), goals: ['Deep AI integration', 'Cross-team AI adoption'] });
        phases.push({ phase: 'Phase 3: Optimization (6-12 months)', focus: ['All Areas'], goals: ['Autonomous operations', 'AI-native practices', 'Continuous improvement'] });
        return phases;
      };

      const copyN8NPayload = () => {
        const data = generatePDFData();
        navigator.clipboard.writeText(JSON.stringify(data, null, 2));
        alert('‚úÖ Assessment data copied! Send to your n8n webhook for AI-powered PDF generation.');
      };

      const downloadPDF = () => {
        const element = document.getElementById('root');
        const opt = {
          margin: 10,
          filename: 'DevOps_Maturity_Report.pdf',
          image: { type: 'jpeg', quality: 0.98 },
          html2canvas: { scale: 2 },
          jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };
        html2pdf().set(opt).from(element).save();
      };

      if (step === 'intro') {
        return (
          <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 flex items-center justify-center">
            <div className="max-w-2xl w-full bg-white/10 backdrop-blur-lg rounded-2xl p-6 text-white">
              <div className="text-center mb-6">
                <div className="text-5xl mb-3">ü§ñ</div>
                <h1 className="text-2xl font-bold mb-1">AI-Powered DevOps Maturity Assessment</h1>
                <p className="text-gray-300 text-sm">24 questions ‚Ä¢ 30 minutes ‚Ä¢ AI-driven roadmap</p>
              </div>
              <div className="grid grid-cols-3 gap-2 mb-6">
                {categories.map(cat => (
                  <div key={cat.id} className={`bg-gradient-to-r ${cat.color} rounded-lg p-2 text-center`}>
                    <div className="text-xl">{cat.emoji}</div>
                    <div className="text-xs mt-1">{cat.name}</div>
                  </div>
                ))}
              </div>
              <div className="space-y-3 mb-4">
                <input className="w-full p-3 rounded-lg bg-white/20 border border-white/30 placeholder-gray-400 text-sm" placeholder="üë§ Your Name" value={userInfo.name} onChange={e => setUserInfo({ ...userInfo, name: e.target.value })} />
                <input className="w-full p-3 rounded-lg bg-white/20 border border-white/30 placeholder-gray-400 text-sm" placeholder="üè¢ Organization" value={userInfo.org} onChange={e => setUserInfo({ ...userInfo, org: e.target.value })} />
                <input className="w-full p-3 rounded-lg bg-white/20 border border-white/30 placeholder-gray-400 text-sm" placeholder="üíº Your Role" value={userInfo.role} onChange={e => setUserInfo({ ...userInfo, role: e.target.value })} />
                <input className="w-full p-3 rounded-lg bg-white/20 border border-white/30 placeholder-gray-400 text-sm" placeholder="üìß Email" type="email" value={userInfo.email} onChange={e => setUserInfo({ ...userInfo, email: e.target.value })} />
              </div>
              <button onClick={() => setStep('questions')} disabled={!userInfo.name || !userInfo.org} className="w-full py-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg font-bold hover:opacity-90 transition disabled:opacity-50">
                üöÄ Start Assessment
              </button>
            </div>
          </div>
        );
      }

      if (step === 'questions') {
        const q = questions[currentQ];
        const cat = categories.find(c => c.id === q.cat);
        const progress = ((currentQ + 1) / questions.length) * 100;
        const answered = Object.keys(answers).length;

        return (
          <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4">
            <div className="max-w-2xl mx-auto">
              <div className="mb-4">
                <div className="flex justify-between text-white text-xs mb-1">
                  <span>Question {currentQ + 1} of {questions.length}</span>
                  <span>{Math.round(progress)}% Complete</span>
                </div>
                <div className="h-2 bg-white/20 rounded-full overflow-hidden">
                  <div className="h-full bg-gradient-to-r from-green-400 to-emerald-500 transition-all duration-500" style={{ width: `${progress}%` }} />
                </div>
              </div>

              <div className={`bg-gradient-to-r ${cat.color} rounded-t-xl p-3 flex items-center gap-2`}>
                <span className="text-2xl">{cat.emoji}</span>
                <span className="text-white font-semibold text-sm">{cat.name}</span>
              </div>

              <div className="bg-white rounded-b-xl p-5 shadow-2xl">
                <h2 className="text-lg font-bold text-gray-800 mb-4">{q.q}</h2>
                <div className="space-y-2">
                  {q.opts.map((opt, i) => (
                    <button key={i} onClick={() => handleAnswer(q.id, i)} className={`w-full p-3 rounded-lg border-2 text-left transition-all ${answers[q.id] === i ? 'border-purple-500 bg-purple-50' : 'border-gray-200 hover:border-purple-300'}`}>
                      <div className="flex items-center gap-2">
                        <div className={`w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold ${answers[q.id] === i ? 'bg-purple-500 text-white' : 'bg-gray-100'}`}>
                          {['üî¥', 'üü†', 'üü°', 'üü¢'][i]}
                        </div>
                        <span className="text-sm font-medium flex-1">{opt}</span>
                        {answers[q.id] === i && <span className="text-purple-500">‚úì</span>}
                      </div>
                    </button>
                  ))}
                </div>

                <div className="flex gap-2 mt-4">
                  <button onClick={() => setCurrentQ(Math.max(0, currentQ - 1))} disabled={currentQ === 0} className="px-4 py-2 bg-gray-200 rounded-lg text-sm font-medium disabled:opacity-50">‚Üê Back</button>
                  {currentQ < questions.length - 1 ? (
                    <button onClick={() => setCurrentQ(currentQ + 1)} className="flex-1 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700">Next ‚Üí</button>
                  ) : (
                    <button onClick={() => setStep('results')} disabled={answered < questions.length} className="flex-1 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50">
                      üìä View Results
                    </button>
                  )}
                </div>
              </div>

              <div className="flex gap-1 mt-3 justify-center flex-wrap">
                {questions.map((_, i) => (
                  <button key={i} onClick={() => setCurrentQ(i)} className={`w-5 h-5 rounded text-xs font-medium transition ${i === currentQ ? 'bg-white text-purple-600' : answers[questions[i].id] !== undefined ? 'bg-green-500 text-white' : 'bg-white/20 text-white'}`}>
                    {i + 1}
                  </button>
                ))}
              </div>
            </div>
          </div>
        );
      }

      if (step === 'results') {
        const scores = calcScores();
        const recs = getRecommendations(scores);
        const level = getLevel(scores.overall);
        const lc = levelColors[level];
        const delivery = getDeliveryCapability(scores);
        const roadmap = generateRoadmap(scores);

        return (
          <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4">
            <div className="max-w-4xl mx-auto space-y-4">
              <div className="bg-white rounded-2xl p-6 shadow-2xl">
                <div className="text-center mb-6">
                  <h1 className="text-2xl font-bold text-gray-800 mb-1">ü§ñ AI DevOps Maturity Report</h1>
                  <p className="text-gray-500 text-sm">{userInfo.name} ‚Ä¢ {userInfo.org} ‚Ä¢ {userInfo.role}</p>
                </div>

                <div className="grid grid-cols-2 gap-4 mb-6">
                  <div className={`${lc.bg} ${lc.border} border-2 rounded-xl p-4 text-center`}>
                    <div className="text-4xl mb-1">{lc.emoji}</div>
                    <div className={`text-2xl font-bold ${lc.text}`}>{scores.overall}%</div>
                    <div className={`text-sm ${lc.text}`}>Level {level}: {lc.name}</div>
                  </div>
                  <div className="bg-blue-50 border-2 border-blue-400 rounded-xl p-4 text-center">
                    <div className="text-4xl mb-1">{delivery.icon}</div>
                    <div className="text-lg font-bold text-blue-700">{delivery.level}</div>
                    <div className="text-xs text-blue-600">{delivery.desc}</div>
                  </div>
                </div>

                <div className="grid grid-cols-2 md:grid-cols-3 gap-3 mb-6">
                  {categories.map(cat => {
                    const score = scores[cat.id];
                    const l = getLevel(score);
                    const c = levelColors[l];
                    return (
                      <div key={cat.id} className={`${c.bg} rounded-lg p-3 border ${c.border}`}>
                        <div className="flex items-center gap-1 mb-1">
                          <span className="text-lg">{cat.emoji}</span>
                          <span className="font-semibold text-gray-700 text-xs">{cat.name}</span>
                        </div>
                        <div className="flex items-center gap-2">
                          <div className="flex-1 h-2 bg-gray-200 rounded-full overflow-hidden">
                            <div className={`h-full bg-gradient-to-r ${cat.color}`} style={{ width: `${score}%` }} />
                          </div>
                          <span className={`font-bold text-sm ${c.text}`}>{score}%</span>
                        </div>
                      </div>
                    );
                  })}
                </div>

                <div className="mb-6">
                  <h2 className="text-lg font-bold text-gray-800 mb-3">üìã Recommended Reports & Actions</h2>
                  <div className="space-y-2">
                    {recs.slice(0, 4).map((rec, i) => (
                      <div key={i} className={`p-3 rounded-lg border-l-4 ${rec.priority === 'Critical' ? 'bg-red-50 border-red-500' : rec.priority === 'High' ? 'bg-orange-50 border-orange-500' : rec.priority === 'Medium' ? 'bg-yellow-50 border-yellow-500' : 'bg-blue-50 border-blue-500'}`}>
                        <div className="flex justify-between items-start gap-2">
                          <div className="flex-1">
                            <div className="flex items-center gap-2 mb-1">
                              <span className={`text-xs font-bold px-2 py-0.5 rounded ${rec.priority === 'Critical' ? 'bg-red-200 text-red-700' : rec.priority === 'High' ? 'bg-orange-200 text-orange-700' : rec.priority === 'Medium' ? 'bg-yellow-200 text-yellow-700' : 'bg-blue-200 text-blue-700'}`}>
                                {rec.priority}
                              </span>
                              <span className="text-sm font-semibold">{rec.emoji} {rec.area}</span>
                              <span className="text-xs text-gray-500">({rec.score}%)</span>
                            </div>
                            <div className="text-xs text-gray-600">
                              {rec.actions.map((a, j) => <span key={j} className="inline-block mr-2">‚Ä¢ {a}</span>)}
                            </div>
                          </div>
                          <div className="text-right shrink-0">
                            <div className="text-xs font-medium text-purple-600">üìÑ {rec.report}</div>
                          </div>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>

                <div className="mb-6">
                  <h2 className="text-lg font-bold text-gray-800 mb-3">üó∫Ô∏è Transformation Roadmap</h2>
                  <div className="space-y-2">
                    {roadmap.map((phase, i) => (
                      <div key={i} className="bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-3 border border-purple-200">
                        <div className="font-semibold text-purple-800 text-sm">{phase.phase}</div>
                        <div className="text-xs text-gray-600 mt-1">
                          <span className="font-medium">Focus:</span> {phase.focus.join(', ')}
                        </div>
                        <div className="text-xs text-gray-500 mt-1">
                          {phase.goals.map((g, j) => <span key={j} className="inline-block mr-2">‚úì {g}</span>)}
                        </div>
                      </div>
                    ))}
                  </div>
                </div>

                <div className="bg-gray-50 rounded-xl p-4">
                  <h2 className="text-sm font-bold text-gray-800 mb-2">üîó n8n Integration for AI PDF Generation</h2>
                  <p className="text-xs text-gray-600 mb-3">Copy assessment data to send to your n8n webhook. The AI model will generate a detailed PDF report.</p>
                  <div className="flex gap-2">
                    <button onClick={copyN8NPayload} className="flex-1 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700">
                      üìã Copy Assessment JSON
                    </button>
                    <button onClick={() => setStep('intro')} className="px-4 py-2 bg-gray-300 rounded-lg text-sm font-medium hover:bg-gray-400">
                      üîÑ Restart
                    </button>
                    <button onClick={downloadPDF} className="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700">
                      üì• Download PDF
                    </button>
                  </div>
                  <pre className="mt-3 p-3 bg-gray-800 text-green-400 rounded-lg text-xs overflow-auto max-h-32">
                    {JSON.stringify(generatePDFData(), null, 2)}
                  </pre>
                </div>
              </div>
            </div>
          </div>
        );
      }
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<DevOpsAssessment />);
  </script>
</body>

</html>
